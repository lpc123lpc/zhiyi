# 爬虫接口设计

# 接口定义

| method                 | 参数，parameters | output                                                       | notations                                                    |
| ---------------------- | ---------------- | ------------------------------------------------------------ | ------------------------------------------------------------ |
| getData()              | idx              |                                                              |                                                              |
|                        | 0                | 类型：csv.DictReader，url可在浏览器中打开                    | worldVaccDataurl，# 疫苗-ALL-ALL-数据                        |
|                        | 1                | 类型：dict，可转化为json文件本地查看                         | nowGlobalCovidDataUrl，# 感染-全球-实时-数据                 |
|                        | 2                | 类型：dict，可转化为json文件本地查看                         | hisGlobalCovidDataUrl，# 感染-全球-历史-数据                 |
|                        | 3                | 类型：dict，可转化为json文件本地查看                         | nowForeignCovidDataUrl，# 感染-海外国家-实时-数据            |
|                        | 4                | 类型：dict，可转化为json文件本地查看                         | nowDomesticCovidDataUrl，#  感染-中国、各省、市-实时-数据    |
|                        | 5                | 类型：dict，可转化为json文件本地查看                         | provinceCityUrlsPath，#感染-国内各省、市-历史-数据           |
|                        | 6                | url list,类型 list                                           | #感染-各国(包括中国)、主要国家的各行政区-历史-数据           |
|                        | 7                | （yesterday url，today url, US yesterday url, US today url）,**由于并非及时更新所以url不一定存在** | #感染-各国(包括中国)、主要国家的各行政区-实时-数据（判断是否存在）**美国单列** |
|                        | 8                | 类型：dict，可转化为json文件本地查看                         | #感染-海外国家-历史-数据                                     |
| updateTencentNews()    |                  |                                                              | 更新腾讯新闻数据源的所有数据                                 |
| updateOWID()           |                  |                                                              | 更新OWID数据源的所有数据                                     |
| updateJHU()            |                  |                                                              | 更新JHU数据源的所有数据                                      |
| timelyJob()            |                  |                                                              | 更新实时数据                                                 |
| crawlAndStoreHistory() |                  |                                                              | 爬取历史数据，只需执行一次                                   |

