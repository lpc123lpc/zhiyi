# 数据库接口设计

### 新建两个类分别存储感染信息与接种信息

* 定义于`createTable.py`中

* `InfMessage`（感染信息）

  * | 属性       | 类型   | 描述                 |
    | ---------- | ------ | -------------------- |
    | time       | String | 日期（“XXXX-XX-XX”） |
    | areaName   | String | 国家/地区名称        |
    | currentNum | int    | 现存确诊人数         |
    | totalNum   | int    | 累计确诊人数         |
    | addNum     | int    | 新增确诊人数         |
    | cured      | int    | 累计治愈人数         |
    | totalDead  | int    | 累计死亡人数         |
    | addDead    | int    | 新增死亡人数         |
    
  * 对照数据库内表信息
  
* `VacMessage`（接种信息）

  * | 属性     | 类型   | 描述                 |
    | -------- | ------ | -------------------- |
    | time     | String | 日期（“XXXX-XX-XX”） |
    | areaName | String | 国家/地区名称        |
    | totalNum | int    | 累计接种人数         |
    | addNum   | int    | 新增接种人数         |
    | vacRate  | float  | 接种率               |

  * 对照数据库内表信息

### 存储数据相关接口：

* 均定义于`dao.py`中

* ~~~python
  '''
  description:save infection information
  对接爬虫
  '''
  def saveInfMessage(List<InfMessage> messages):
  ~~~

* ~~~python
  '''
  description:save vaccination information
  对接爬虫
  '''
  def saveVacMessage(List<VacMessage> messages):
  ~~~

* ~~~python
  '''
  description:save advice
  对接前端
  point:评分
  '''
  def saveAdvice(String message, String time, int point):
  ~~~
  
  

### 返回数据相关接口：

* 均定义于`dao.py`中

* ~~~python
  '''
  description:get infection information
  name:"global"(世界)/国家姓名/地区姓名
  return:返回该区域的实时感染信息
  '''
  def getNowInfMessage(name):
  
  
  '''
  description:get infection information
  param:name:"global"(世界)/国家姓名
  return:返回该区域所包含的国家/地区的实时感染信息（下一级）
  '''
  def getNowInfMessageInclude(name):
      
  
  '''
  description:get infection information
  param:name:"global"(世界)/国家姓名
  return:返回该区域的历史感染信息
  '''
  def getHisInfMessage(name):
      
  
  '''
  description:get infection information
  param:name:"global"(世界)/国家姓名
  return:返回该区域所包含的国家/地区的历史感染信息（下一级）
  '''
  def getHisInfMessageInclude(name):
  
  
  '''
  description:get infection information
  name:"global"(世界)/国家姓名/地区姓名
  return:返回该区域的实时接种信息
  '''
  def getNowVacMessage(name):
  
  
  '''
  description:get infection information
  name:"world"(世界)/国家姓名
  return:返回该区域所包含的国家/地区的实时接种信息（下一级）
  '''
  def getNowVacMessageInclude(name):
  
  
  '''
  description:get infection information
  name:"global"(世界)/国家姓名/地区姓名
  return:返回该区域的历史接种信息
  '''
  def getHisVacMessage(name):
  
  
  '''
  description:get infection information
  name:"world"(世界)/国家姓名
  return:返回该区域所包含的国家/地区的历史接种信息（下一级）
  '''
  def getHisVacMessageInclude(name):
  
  
  '''
  description:save advice
  message:建议内容
  对接前端
  '''
  def saveAdvice(message):
  ~~~