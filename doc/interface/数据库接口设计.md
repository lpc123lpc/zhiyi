# 数据库接口设计

### 新建两个类分别存储感染信息与接种信息

* 定义于`model.py`中

* `InfMessage`（感染信息）

  * | 属性       | 类型   | 描述                 |
    | ---------- | ------ | -------------------- |
    | time       | String | 日期（“XXXX-XX-XX”） |
    | areaName   | String | 国家/地区名称        |
    | currentNum | int    | 现存确诊人数         |
    | totalNum   | int    | 累计确诊人数         |
    | addNum     | int    | 新增确诊人数         |
    | cured      | int    | 累计治愈人数         |
    | totalDead  | int    | 累计死亡人数         |
    | addDead    | int    | 新增死亡人数         |
    | infRate    | float  | 感染率               |

  * 对照数据库内表信息

* `VacMessage`（接种信息）

  * | 属性     | 类型   | 描述                 |
    | -------- | ------ | -------------------- |
    | time     | String | 日期（“XXXX-XX-XX”） |
    | areaName | String | 国家/地区名称        |
    | totalNum | int    | 累计接种人数         |
    | addNum   | int    | 新增接种人数         |
    | vacRate  | float  | 覆盖率               |

  * 对照数据库内表信息

### 存储数据相关接口：

* 均定义于`dao.py`中

* ~~~python
  ```
  description:save infection information
  对接爬虫
  ```
  def saveInfMessage(List<InfMessage> messages)
  ~~~

* ~~~python
  ```
  description:save vaccination information
  对接爬虫
  ```
  def saveVacMessage(List<VacMessage> messages)
  ~~~

* ~~~python
  ```
  description:save advice
  对接前端
  ```
  def saveAdvice(String message, String time)
  ~~~

  

### 返回数据相关接口：

* 均定义于`dao.py`中

* ~~~python
  ```
  description:get infection information
  name:"world"(世界)/国家姓名/地区姓名
  time:日期，格式为“XXXX-XX-XX”
  return:返回该区域的感染信息
  ```
  def getInfMessage(String name, String time)
  	return InfMessage infmessage
  ~~~

  

* ~~~python
  ```
  description:get infection information
  name:"world"(世界)/国家姓名
  time:日期，格式为“XXXX-XX-XX”
  return:返回该区域所包含的国家/地区的感染信息
  ```
  def getInfMessageInclude(String name, String time)
  	return List<InfMessage> infmessages
  ~~~

  

* ~~~python
  ```
  description:get infection information
  name:"world"(世界)/国家姓名/地区姓名
  time:日期，格式为“XXXX-XX-XX”
  return:返回该区域的接种信息
  ```
  def getVacMessage(String name, String time)
  	return VacMessage vacmessage
  ~~~

  

* ~~~python
  ```
  description:get infection information
  name:"world"(世界)/国家姓名
  time:日期，格式为“XXXX-XX-XX”
  return:返回该区域所包含的国家/地区的接种信息
  ```
  def getVacMessageInclude(String name, String time)
  	return List<VacMessage> vacmessages
  ~~~

  